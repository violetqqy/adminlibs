{"version":3,"file":"dtable.component.js","sourceRoot":"","sources":["../../../lib/dtable/dtable.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { TableOption, ControlType } from './dtable.entity';\n\n@Component({\n  moduleId: module.id,\n  selector: 'lib-table',\n  templateUrl: 'dtable.component.html',\n  styleUrls: ['dtable.component.scss']\n})\nexport class DTableComponent implements OnInit {\n  @Input() table: TableOption;\n  @Output() handleEmmit = new EventEmitter();\n  @Output() pageEmitter = new EventEmitter();\n\n  pageList: Array <any> = [];\n  controlType = ControlType;\n\n  constructor() {}\n\n  ngOnInit() {\n    if(this.table.ifPage) {\n      this.getPageList(this.table.totalPage, this.table.currentPage);\n    }\n  }\n\n  gotoHandle(key, value) {\n    this.handleEmmit.emit({ key: key, value: value });\n  }\n\n  getPageList(total, current) {\n    this.pageList = [];\n    if (total <= 6) {\n      for (let i = 0; i < total; i++) {\n        this.pageList.push(i + 1);\n      }\n    } else if (total > 6) {\n      if (current + 1 === 1) {\n        this.pageList.push(1, current + 2, '...', total);\n      } else if (current + 1 === 2) {\n        this.pageList.push(1, current + 1, current + 2, '...', total);\n      } else if (current + 1 === total - 1) {\n        this.pageList.push(1, '...', current, current + 1, total);\n      } else if (current + 1 === total) {\n        this.pageList.push(1, '...', current, total);\n      } else {\n        this.pageList.push(1, '...', current, current + 1, current + 2, '...', total);\n      }\n    }\n  }\n\n  // 获取指定页\n  getCurrentPage(page) {\n    if (page !== '...') {\n      this.pageEmitter.emit(page - 1);\n      this.getPageList(this.table.totalPage, page - 1);\n    }\n  }\n\n  // 获取前一页\n  getPrePage() {\n    if (this.table.currentPage > 0) {\n      this.pageEmitter.emit(this.table.currentPage - 1);\n      this.getPageList(this.table.totalPage, this.table.currentPage - 1);\n    }\n  }\n\n  // 获取下一页\n  getNextPage() {\n    if (this.table.currentPage < this.table.totalPage - 1) {\n      this.pageEmitter.emit(this.table.currentPage + 1);\n      this.getPageList(this.table.totalPage, this.table.currentPage + 1);\n    }\n  }\n\n  // 获取第一页\n  getFirstPage() {\n    this.pageEmitter.emit(0);\n    this.getPageList(this.table.totalPage, 0);\n  }\n\n  // 获取最后一页\n  getLastPage() {\n    this.pageEmitter.emit(this.table.totalPage - 1);\n    this.getPageList(this.table.totalPage, this.table.totalPage - 1);\n  }\n\n}\n"]}