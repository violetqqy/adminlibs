{"version":3,"file":"upload.service.js","sourceRoot":"","sources":["../../../../lib/dform/_service/upload.service.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,UAAU,EAAU,MAAM,eAAe,CAAC;AACnD,OAAO,EAAQ,OAAO,EAAY,MAAM,eAAe,CAAC;AAExD,OAAO,SAAS,CAAC;AACjB,OAAO,2BAA2B,CAAC;AAKnC,IAAa,aAAa,GAA1B;IAEE,YAAoB,IAAU;QAAV,SAAI,GAAJ,IAAI,CAAM;IAAG,CAAC;IAElC;;;;OAIG;IACH,UAAU,CAAC,IAAI,EAAE,GAAG,EAAE,QAAQ;QAC5B,CAAC,CAAC,IAAI,CAAC;YACL,GAAG,EAAE,GAAG;YACR,IAAI,EAAE,MAAM;YACZ,IAAI,EAAE,IAAI;YACV,KAAK,EAAE,KAAK;YACZ,WAAW,EAAE,KAAK;YAClB,WAAW,EAAE,KAAK;YAClB,OAAO,EAAE,UAAS,IAAI;gBACpB,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;YAC/B,CAAC;YACD,KAAK,EAAE,UAAS,GAAG;gBACjB,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YAC9B,CAAC;SACF,CAAC,CAAC;IACL,CAAC;IAED,MAAM,CAAC,IAAI,EAAE,IAAI;QACf,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE;YAChC,OAAO,EAAE,IAAI,OAAO,CAAC,EAAE,cAAc,EAAE,mCAAmC,EAAE,CAAC;SAC9E,CAAC,CAAC;IACL,CAAC;CAEF,CAAA;AAhCY,aAAa;IADzB,UAAU,EAAE;GACA,aAAa,CAgCzB;SAhCY,aAAa","sourcesContent":["import { Injectable, Inject } from \"@angular/core\";\nimport { Http, Headers, Response } from '@angular/http';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/Rx';\nimport 'rxjs/add/observable/throw';\n\ndeclare let $: any;\n\n@Injectable()\nexport class UploadService {\n\n  constructor(private http: Http) {}\n\n  /**\n   * 上传图片(使用回调函数返回值)\n   * @param data\n   * @returns {string}\n   */\n  uploadFile(data, url, callback) {\n    $.ajax({\n      url: url,\n      type: 'POST',\n      data: data,\n      cache: false,\n      contentType: false, //不可缺\n      processData: false, //不可缺\n      success: function(data) {\n        callback.UploadSuccess(data);\n      },\n      error: function(err) {\n        callback.UploadFailure(err);\n      }\n    });\n  }\n\n  upload(path, data): Observable<any> {\n    return this.http.post(path, data, {\n      headers: new Headers({ 'Content-Type': 'application/x-www-form-urlencoded' })\n    });\n  }\n\n}\n"]}